{"version":"0.1.0","name":"points","instructions":[{"name":"addPointCategoryLevel","accounts":[{"name":"key","isMut":false,"isSigner":true,"docs":["The key authorized for this instruction"]},{"name":"profile","isMut":false,"isSigner":false,"docs":["The points permissions [`Profile`](Profile)"]},{"name":"funder","isMut":true,"isSigner":true,"docs":["The funder - pays for account rent"]},{"name":"category","isMut":true,"isSigner":false,"docs":["The [PointCategory]"]},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["The system program"]}],"args":[{"name":"input","type":{"defined":"AddPointCategoryLevelInput"}}]},{"name":"createPointCategory","accounts":[{"name":"profile","isMut":false,"isSigner":false,"docs":["The points permissions [`Profile`](player_profile::state::Profile)"]},{"name":"funder","isMut":true,"isSigner":true,"docs":["The funder - pays for account rent"]},{"name":"category","isMut":true,"isSigner":true,"docs":["The [`PointCategory`]"]},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["The Solana System program"]}],"args":[{"name":"input","type":{"defined":"CreatePointCategoryInput"}}]},{"name":"createUserPointAccount","accounts":[{"name":"userProfile","isMut":false,"isSigner":false,"docs":["The user [`Profile`](Profile)"]},{"name":"funder","isMut":true,"isSigner":true,"docs":["The funder - pays for account rent"]},{"name":"pointCategoryAccount","isMut":false,"isSigner":false,"docs":["The [`PointCategory`]"]},{"name":"userPointsAccount","isMut":true,"isSigner":false,"docs":["The [`UserPointsAccount`]"]},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["The Solana System Program"]}],"args":[]},{"name":"createUserPointAccountWithLicense","accounts":[{"name":"userProfile","isMut":false,"isSigner":false,"docs":["The user [`Profile`](Profile)"]},{"name":"funder","isMut":true,"isSigner":true,"docs":["The funder - pays for account rent"]},{"name":"category","isMut":false,"isSigner":false,"docs":["The [`PointCategory`]"]},{"name":"userPointsAccount","isMut":true,"isSigner":false,"docs":["The [`UserPointsAccount`]"]},{"name":"tokenAccountOwner","isMut":false,"isSigner":true,"docs":["The owner of [`user_token_account`](CreateUserPointAccountWithLicense::user_token_account)"]},{"name":"userTokenAccount","isMut":true,"isSigner":false,"docs":["The token account for the license to burn"]},{"name":"mintOrVault","isMut":true,"isSigner":false,"docs":["The mint address for the license to burn"]},{"name":"tokenProgram","isMut":false,"isSigner":false,"docs":["The Solana Token Program"]},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["The Solana System Program"]}],"args":[]},{"name":"decrementLevel","accounts":[{"name":"category","isMut":false,"isSigner":false,"docs":["The [`PointCategory`]"]},{"name":"userPointsAccount","isMut":true,"isSigner":false,"docs":["The [`UserPointsAccount`]"]},{"name":"pointsModifierAccount","isMut":false,"isSigner":true,"docs":["The [`PointsModifier`] account"]}],"args":[{"name":"input","type":{"defined":"DecrementLevelInput"}}]},{"name":"decrementPoints","accounts":[{"name":"category","isMut":false,"isSigner":false,"docs":["The [`PointCategory`]"]},{"name":"userPointsAccount","isMut":true,"isSigner":false,"docs":["The [`UserPointsAccount`]"]},{"name":"pointsModifierAccount","isMut":false,"isSigner":true,"docs":["The [`PointsModifier`] account"]}],"args":[{"name":"pointsAmount","type":"u64"}]},{"name":"deregisterPointModifier","accounts":[{"name":"key","isMut":false,"isSigner":true,"docs":["The key authorized for this instruction"]},{"name":"profile","isMut":false,"isSigner":false,"docs":["The points permissions [`Profile`](Profile)"]},{"name":"fundsTo","isMut":true,"isSigner":false,"docs":["The funds_to - receives rent refund"]},{"name":"category","isMut":false,"isSigner":false,"docs":["The [`PointCategory`]"]},{"name":"pointsModifierAccount","isMut":true,"isSigner":false,"docs":["The [`PointsModifier`] account"]},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["The Solana System program"]}],"args":[{"name":"keyIndex","type":"u16"}]},{"name":"incrementLevel","accounts":[{"name":"category","isMut":false,"isSigner":false,"docs":["The [`PointCategory`]"]},{"name":"userPointsAccount","isMut":true,"isSigner":false,"docs":["The [`UserPointsAccount`]"]},{"name":"pointsModifierAccount","isMut":false,"isSigner":true,"docs":["The [`PointsModifier`] account"]}],"args":[{"name":"input","type":{"defined":"IncrementLevelInput"}}]},{"name":"incrementLevelBeyondThreshold","accounts":[{"name":"category","isMut":false,"isSigner":false,"docs":["The [`PointCategory`]"]},{"name":"userPointsAccount","isMut":true,"isSigner":false,"docs":["The [`UserPointsAccount`]"]},{"name":"pointsModifierAccount","isMut":false,"isSigner":true,"docs":["The [`PointsModifier`] account"]}],"args":[]},{"name":"incrementPoints","accounts":[{"name":"category","isMut":false,"isSigner":false,"docs":["The [`PointCategory`]"]},{"name":"userPointsAccount","isMut":true,"isSigner":false,"docs":["The [`UserPointsAccount`]"]},{"name":"pointsModifierAccount","isMut":false,"isSigner":true,"docs":["The [`PointsModifier`] account"]}],"args":[{"name":"input","type":{"defined":"IncrementPointsInput"}}]},{"name":"registerPointModifier","accounts":[{"name":"key","isMut":false,"isSigner":true,"docs":["The key authorized for this instruction"]},{"name":"profile","isMut":false,"isSigner":false,"docs":["The points permissions [`Profile`](player_profile::state::Profile)"]},{"name":"funder","isMut":true,"isSigner":true,"docs":["The funder - pays for account rent"]},{"name":"category","isMut":false,"isSigner":false,"docs":["The [`PointCategory`]"]},{"name":"pointsModifierAccount","isMut":true,"isSigner":true,"docs":["The [`PointsModifier`] account"]},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["The Solana System program"]}],"args":[{"name":"canIncrement","type":"bool"},{"name":"canDecrement","type":"bool"},{"name":"keyIndex","type":"u16"}]},{"name":"removePointCategoryLevel","accounts":[{"name":"key","isMut":false,"isSigner":true,"docs":["The key authorized for this instruction"]},{"name":"profile","isMut":false,"isSigner":false,"docs":["The points permissions [`Profile`](Profile)"]},{"name":"fundsTo","isMut":true,"isSigner":false,"docs":["The funds_to - receives rent refund"]},{"name":"category","isMut":true,"isSigner":false,"docs":["The [PointCategory]"]},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["The system program"]}],"args":[{"name":"input","type":{"defined":"RemovePointCategoryLevelInput"}}]},{"name":"spendPoints","accounts":[{"name":"spender","isMut":false,"isSigner":true,"docs":["The entity calling this instruction"]},{"name":"spenderProfile","isMut":false,"isSigner":false,"docs":["The profile of the spender"]},{"name":"category","isMut":false,"isSigner":false,"docs":["The [`PointCategory`]"]},{"name":"userPointsAccount","isMut":true,"isSigner":false,"docs":["The [`UserPointsAccount`]"]}],"args":[{"name":"pointsAmount","type":"u64"},{"name":"keyIndex","type":"u16"}]},{"name":"updatePointCategory","accounts":[{"name":"key","isMut":false,"isSigner":true,"docs":["The key authorized for this instruction"]},{"name":"profile","isMut":false,"isSigner":false,"docs":["The points permissions [`Profile`](Profile)"]},{"name":"category","isMut":true,"isSigner":false,"docs":["The [PointCategory]"]},{"name":"systemProgram","isMut":false,"isSigner":false,"docs":["The Solana System program"]}],"args":[{"name":"input","type":{"defined":"UpdatePointCategoryInput"}}]}],"accounts":[{"name":"PointCategory","docs":["PDA for each specific type of Points"],"type":{"kind":"struct","fields":[{"name":"version","docs":["The data version of this account."],"type":"u8"},{"name":"profile","docs":["the managing profile"],"type":"publicKey"},{"name":"tokenRequired","docs":["if this is true then token_mint should be a mint address"],"type":"u8"},{"name":"tokenMint","docs":["the token mint"],"type":"publicKey"},{"name":"tokenQty","docs":["the token qty"],"type":"u64"},{"name":"transferTokensToVault","docs":["if this is true then token_vault should be a token address"],"type":"u8"},{"name":"tokenVault","docs":["the token vault"],"type":"publicKey"},{"name":"pointLimit","docs":["point limit"],"type":"u64"},{"name":"isSpendable","docs":["is spendable?"],"type":"u8"},{"name":"levelCount","docs":["the number of levels for this `PointCategory`"],"type":"u16"},{"name":"postLevelsUpgradeThreshold","docs":["the number of points required to upgrade a level after a user gets to the last level as set","in the levels array.  If 0, this is turned off."],"type":"u64"}]}},{"name":"PointsModifier","docs":["PDA containing one account that can modify an Points type"],"type":{"kind":"struct","fields":[{"name":"version","docs":["The data version of this account."],"type":"u8"},{"name":"pointCategory","docs":["point_category"],"type":"publicKey"},{"name":"canIncrement","docs":["can_increment"],"type":"u8"},{"name":"canDecrement","docs":["can_decrement"],"type":"u8"}]}},{"name":"UserPointsAccount","docs":["PDA of an User for each specific type of Points"],"type":{"kind":"struct","fields":[{"name":"version","docs":["The data version of this account."],"type":"u8"},{"name":"profile","docs":["The profile this account is for"],"type":"publicKey"},{"name":"pointCategory","docs":["point_category"],"type":"publicKey"},{"name":"earnedPoints","docs":["earned_points"],"type":"u64"},{"name":"spentPoints","docs":["spent_points"],"type":"u64"},{"name":"level","docs":["The current level; 0 when no level"],"type":"u16"},{"name":"dailyEarnedPoints","docs":["daily earned_points"],"type":"u64"},{"name":"lastEarnedPointsTimestamp","docs":["The last timestamp at which points were earned"],"type":"i64"},{"name":"bump","docs":["PDA bump"],"type":"u8"}]}}],"types":[{"name":"AddPointCategoryLevelInput","docs":["Struct for data add points category level"],"type":{"kind":"struct","fields":[{"name":"level","docs":["the level"],"type":"u16"},{"name":"points","docs":["the amount of points required for this level"],"type":"u64"},{"name":"tokenQty","docs":["the quantity of tokens required for this level"],"type":{"option":"u64"}},{"name":"license","docs":["the type of license"],"type":"u8"},{"name":"keyIndex","docs":["the index of the key in the player profile"],"type":"u16"}]}},{"name":"CreatePointCategoryInput","docs":["Struct for data input to create a points category"],"type":{"kind":"struct","fields":[{"name":"license","docs":["token_required"],"type":{"defined":"LicenseType"}},{"name":"pointLimit","docs":["point_limit"],"type":{"option":"u64"}},{"name":"isSpendable","docs":["is_spendable"],"type":"bool"},{"name":"keyIndex","docs":["the index of the key in the crafting permissions profile"],"type":"u16"}]}},{"name":"DecrementLevelInput","docs":["Struct for data input to decrement a user points account level"],"type":{"kind":"struct","fields":[{"name":"decrementToLevelIndex","docs":["the index of the level to decrement to"],"type":"u16"}]}},{"name":"IncrementLevelInput","docs":["Struct for data input to increment a user points account level"],"type":{"kind":"struct","fields":[{"name":"nextLevelIndex","docs":["the index of the user's desired level"],"type":"u16"}]}},{"name":"IncrementPointsInput","docs":["Input data to increment points"],"type":{"kind":"struct","fields":[{"name":"points","docs":["the amount of points to increment"],"type":"u64"},{"name":"dailyPointsLimit","docs":["the daily points limit"],"type":{"option":"u64"}}]}},{"name":"LicenseType","docs":["The type of license to use for the category"],"type":{"kind":"enum","variants":[{"name":"None"},{"name":"Burn","fields":[{"name":"quantity","docs":["The quantity to burn"],"type":"u64"}]},{"name":"Vault","fields":[{"name":"quantity","docs":["The quantity to transfer"],"type":"u64"}]}]}},{"name":"OptionalNonSystemPubkey","docs":["A pubkey sized option that is none if set to the system program."],"type":{"kind":"struct","fields":[{"name":"key","type":"publicKey"}]}},{"name":"PointsLevel","docs":["Defines an individual points level"],"type":{"kind":"struct","fields":[{"name":"level","docs":["the level"],"type":"u16"},{"name":"points","docs":["the amount of points required for this level","the total points required for the level i.e. the amount needed to upgrade to this level from level 0"],"type":"u64"},{"name":"tokenVault","docs":["the token mint or vault","this allows for upgrading levels to require tokens (e.g. a piloting license)"],"type":"publicKey"},{"name":"tokenQty","docs":["the token qty"],"type":"u64"}]}},{"name":"PointsLevelLicenseType","docs":["The license type required for an individual points level","Can be:","1. None: no license","2. Burn: requires a license and burns tokens","3. Vault: requires a license and transfers tokens to vault"],"type":{"kind":"enum","variants":[{"name":"None"},{"name":"Burn"},{"name":"Vault"}]}},{"name":"RemovePointCategoryLevelInput","docs":["Struct for data input to remove points category level"],"type":{"kind":"struct","fields":[{"name":"levelIndex","docs":["the index of the level in the array"],"type":"u16"},{"name":"keyIndex","docs":["the index of the key in the player profile"],"type":"u16"}]}},{"name":"UpdatePointCategoryInput","docs":["Struct for data input to Update point categories"],"type":{"kind":"struct","fields":[{"name":"pointLimit","docs":["point_limit"],"type":{"option":"u64"}},{"name":"newLicense","docs":["token_qty"],"type":{"option":{"defined":"LicenseType"}}},{"name":"isSpendable","docs":["is_spendable"],"type":{"option":"bool"}},{"name":"postLevelsUpgradeThreshold","docs":["the number of points required to upgrade a level after a user gets to the last level as set in the levels array."],"type":{"option":"u64"}},{"name":"keyIndex","docs":["the index of the key in the player profile"],"type":"u16"}]}}],"errors":[{"code":6000,"name":"IncorrectAdminAddress","msg":"Incorrect admin address."},{"code":6001,"name":"IncorrectMintAddress","msg":"Incorrect mint address."},{"code":6002,"name":"IncorrectTokenAddress","msg":"Incorrect token address."},{"code":6003,"name":"IncorrectModifierAddress","msg":"Incorrect modifier address."},{"code":6004,"name":"IncorrectPointCategoryAddress","msg":"Incorrect owner address."},{"code":6005,"name":"IncorrectProgramAddress","msg":"Incorrect program address."},{"code":6006,"name":"IncorrectOwner","msg":"Incorrect Point Category."},{"code":6007,"name":"IncrementNotAllowed","msg":"Not allowed to increment Points."},{"code":6008,"name":"DecrementNotAllowed","msg":"Not allowed to decrement Points."},{"code":6009,"name":"InsufficientTokenToBurn","msg":"Insufficient token licenses to burn."},{"code":6010,"name":"LicenseRequired","msg":"License required to this category of Points."},{"code":6011,"name":"LicenseNotRequired","msg":"License NOT required to this category of Points."},{"code":6012,"name":"TokenMintRequired","msg":"Token Mint account is required."},{"code":6013,"name":"TokenVaultRequired","msg":"Token Vault account is required."},{"code":6014,"name":"NotEnoughEarnedPoints","msg":"Not enough earned points."},{"code":6015,"name":"NotEnoughPoints","msg":"Not enough points."},{"code":6016,"name":"SpendingNotAllowed","msg":"Points modifier not allowed to spend points."},{"code":6017,"name":"TokenQuantityExpected","msg":"The token quantity must be provided."},{"code":6018,"name":"NumericOverflow","msg":"Numeric overflow."},{"code":6019,"name":"InvalidLevel","msg":"Invalid Level."},{"code":6020,"name":"PointLevelRequired","msg":"The Point Level is required."},{"code":6021,"name":"LevelUpgradeNotAllowed","msg":"Level Upgrade Not Allowed."},{"code":6022,"name":"InvalidIndex","msg":"The Index is invalid."}]}